<script type="text/javascript" charset="utf-8">
var swfu;
TDK4zjRa3N4LOYPj4BDnNEBBah6rUnuQnbktLWGF1to=
window.onload = function(){

var settings = {
  window_mode: "TRANSPARENT",
   
	flash_url : "<%= ActionController::Base.relative_url_root %>/flash/swfupload.swf",
	upload_url: "<%= upload_url-%>",
	post_params: {authenticity_token : "<%= form_authenticity_token-%>"},
	file_size_limit : "300 MB",
	file_types : "*.*",
	file_types_description : "All Files",
	file_upload_limit : 0,
	file_queue_limit : 0,
	custom_settings : {
		progressTarget : "fsUploadProgress",
		cancelButtonId : "btnCancel"
	},
	debug: false,

	// Button settings
	//button_image_url: "/images/FullyTransparent_65x29.png",
	button_width: "120",
	button_height: "27",
	button_placeholder_id: "spanButtonPlaceHolder",
  button_text: '<span class="theFont">Upload Movie File</span>',
	button_text_style: '.theFont { font-size: 11; font-family: "Lucida Grande","Trebuchet MS",Arial,sans-serif; color: #6B6B6B;}',
	button_text_left_padding: 12,
	button_text_top_padding: 6,
	button_window_mode: SWFUpload.WINDOW_MODE.TRANSPARENT,

	// The event handler functions are defined in handlers.js
	file_queued_handler : fileQueued,
	file_queue_error_handler : fileQueueError,
	file_dialog_complete_handler : fileDialogComplete,
	file_queue_limit: 1,
	upload_start_handler : uploadStart,
	upload_progress_handler : uploadProgress,
	upload_error_handler : uploadError,
	upload_success_handler : uploadSuccess,
	upload_complete_handler : uploadComplete,
	queue_complete_handler : queueComplete	// Queue plugin event
};

swfu = new SWFUpload(settings);
}
</script>    

<form action="<%= upload_url %>" enctype="multipart/form-data" class="upload">
  <div>
    <div style="background: #ECECEC; border: 1px solid #C0C0C0; width: 120px; float: left;" id="btnUpload">
      <span id="spanButtonPlaceHolder"></span>
    </div>
    <input id="btnCancel" type="button" value="Cancel Upload" onclick="swfu.cancelQueue();" disabled="disabled" 
           style="margin-left: 2px; font-size: 8pt; height: 29px; display: none"/>  
  </div>
  <div id="fsUploadProgress" class="fieldset flash"></div>
</form>  
